
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A Dead Simple Data Catalog for Engineers">
      
      
        <meta name="author" content="Chris Riccomini">
      
      
        <link rel="canonical" href="https://docs.recap.cloud/0.5.2/api/recap.catalog/">
      
      
        <link rel="prev" href="../../guides/logging/">
      
      
        <link rel="next" href="../recap.integrations/">
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.11">
    
    
      
        <title>recap.catalog - Recap</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0d440cfe.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="black">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#recap.catalog.Catalog" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Recap" class="md-header__button md-logo" aria-label="Recap" data-md-component="logo">
      
  <img src="../../img/recap-logo-square.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Recap
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              recap.catalog
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="black"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="black"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/recap-cloud/recap" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    recap-cloud/recap
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Recap" class="md-nav__button md-logo" aria-label="Recap" data-md-component="logo">
      
  <img src="../../img/recap-logo-square.png" alt="logo">

    </a>
    Recap
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/recap-cloud/recap" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    recap-cloud/recap
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Python API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Python API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          recap.catalog
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        recap.catalog
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#recap.catalog.Catalog" class="md-nav__link">
    Catalog
  </a>
  
    <nav class="md-nav" aria-label="Catalog">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recap.catalog.Catalog.ls" class="md-nav__link">
    ls()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recap.catalog.Catalog.readers" class="md-nav__link">
    readers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recap.catalog.Catalog.reads" class="md-nav__link">
    reads()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recap.catalog.Catalog.schema" class="md-nav__link">
    schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recap.catalog.Catalog.search" class="md-nav__link">
    search()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recap.catalog.Catalog.writers" class="md-nav__link">
    writers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recap.catalog.Catalog.writes" class="md-nav__link">
    writes()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recap.catalog.Relationship" class="md-nav__link">
    Relationship
  </a>
  
    <nav class="md-nav" aria-label="Relationship">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recap.catalog.Relationship.CONTAINS" class="md-nav__link">
    CONTAINS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recap.catalog.Relationship.READS" class="md-nav__link">
    READS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recap.catalog.Relationship.RUNS" class="md-nav__link">
    RUNS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recap.catalog.Relationship.WRITES" class="md-nav__link">
    WRITES
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recap.catalog.create_catalog" class="md-nav__link">
    create_catalog()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recap.catalog.safe" class="md-nav__link">
    safe()
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../recap.integrations/" class="md-nav__link">
        recap.integrations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../recap.storage/" class="md-nav__link">
        recap.storage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../recap.metadata/" class="md-nav__link">
        recap.metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../recap.repl/" class="md-nav__link">
        recap.repl
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../rest/" class="md-nav__link">
        REST API
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        Recap CLI
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#recap.catalog.Catalog" class="md-nav__link">
    Catalog
  </a>
  
    <nav class="md-nav" aria-label="Catalog">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recap.catalog.Catalog.ls" class="md-nav__link">
    ls()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recap.catalog.Catalog.readers" class="md-nav__link">
    readers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recap.catalog.Catalog.reads" class="md-nav__link">
    reads()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recap.catalog.Catalog.schema" class="md-nav__link">
    schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recap.catalog.Catalog.search" class="md-nav__link">
    search()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recap.catalog.Catalog.writers" class="md-nav__link">
    writers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recap.catalog.Catalog.writes" class="md-nav__link">
    writes()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recap.catalog.Relationship" class="md-nav__link">
    Relationship
  </a>
  
    <nav class="md-nav" aria-label="Relationship">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recap.catalog.Relationship.CONTAINS" class="md-nav__link">
    CONTAINS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recap.catalog.Relationship.READS" class="md-nav__link">
    READS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recap.catalog.Relationship.RUNS" class="md-nav__link">
    RUNS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recap.catalog.Relationship.WRITES" class="md-nav__link">
    WRITES
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recap.catalog.create_catalog" class="md-nav__link">
    create_catalog()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recap.catalog.safe" class="md-nav__link">
    safe()
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  



  <h1>recap.catalog</h1>

<div class="doc doc-object doc-module">



  <div class="doc doc-contents first">

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="recap.catalog.Catalog" class="doc doc-heading">
        <code>Catalog</code>


<a href="#recap.catalog.Catalog" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">

  
      <p>Recap's catalog defines standard metadata and relationships between URLs.
The only metadata the catalog models is <code>recap.metadata.Schema</code>.</p>
<p>Relationships are modeled as:</p>
<ul>
<li><code>account</code> runs <code>job</code></li>
<li><code>account</code> reads <code>data</code></li>
<li><code>account</code> writes <code>data</code></li>
<li><code>job</code> reads <code>data</code></li>
<li><code>job</code> writes <code>data</code></li>
<li><code>data</code> contains <code>data</code></li>
</ul>
<p><code>data</code> contains <code>data</code> might seem odd at first, but it simply models how
object stores like S3 behave. Databases and tables are all treated as
<code>data</code>.</p>



  

  <div class="doc doc-children">









<div class="doc doc-object doc-function">



<h3 id="recap.catalog.Catalog.ls" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ls</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">refresh</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#recap.catalog.Catalog.ls" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Lists all URLs that the provided URL contains. In a filesystem, <code>ls</code>
would return a path's children.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Fetch the contained children for this URL.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>time</code></td>
          <td>
                <code><span title="datetime.datetime">datetime</span> | None</code>
          </td>
          <td><p>Time travel to a point in time. Causes the method to return children from the last crawl before the provided timestamp.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>refresh</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Bypass the catalog's cache, fetching the data directly from the URL. Cache the results in the catalog.</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>list[str] | None</code>
          </td>
          <td><p>A list of URLs contained by the input URL. None if the input URL doesn't exist.</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="recap.catalog.Catalog.readers" class="doc doc-heading">
<code class="highlight language-python"><span class="n">readers</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">refresh</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#recap.catalog.Catalog.readers" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Lists all URLs that read from the input URL.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Fetch readers for this this URL.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>time</code></td>
          <td>
                <code><span title="datetime.datetime">datetime</span> | None</code>
          </td>
          <td><p>Time travel to a point in time. Causes the method to return readers from the last crawl before the provided timestamp.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>refresh</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Bypass the catalog's cache, fetching the data directly from the URL. Cache the results in the catalog.</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>list[str] | None</code>
          </td>
          <td><p>A list of URLs that read from the input URL. If the return URL represents an account, then the account has read-access to the input URL. If the return URL represents a job, then the account reads the input URL's data.</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="recap.catalog.Catalog.reads" class="doc doc-heading">
<code class="highlight language-python"><span class="n">reads</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">refresh</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#recap.catalog.Catalog.reads" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Lists all URLs that the input URL reads.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Fetch URLs that this URL reads.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>time</code></td>
          <td>
                <code><span title="datetime.datetime">datetime</span> | None</code>
          </td>
          <td><p>Time travel to a point in time. Causes the method to return URLs from the last crawl before the provided timestamp.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>refresh</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Bypass the catalog's cache, fetching the data directly from the URL. Cache the results in the catalog.</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>list[str] | None</code>
          </td>
          <td><p>A list of URLs that the input URL has read from. If the input URL is an account, the account will have read-access to the returned URLs. If the input URL is a job, the job has read from the return URLs.</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="recap.catalog.Catalog.schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">schema</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">refresh</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#recap.catalog.Catalog.schema" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Returns a schema for the URL.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>URL to fetch schema for.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>time</code></td>
          <td>
                <code><span title="datetime.datetime">datetime</span> | None</code>
          </td>
          <td><p>Time travel to a point in time. Causes the method to return a scheam from the last crawl before the provided timestamp.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>refresh</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Bypass the catalog's cache, fetching the schema directly from the URL. Cache the results in the catalog.</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="recap.metadata.Schema" href="../recap.metadata/#recap.metadata.Schema">Schema</a> | None</code>
          </td>
          <td><p>A schema for the URL or <code>None</code> if the URL doesn't exist.</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="recap.catalog.Catalog.search" class="doc doc-heading">
<code class="highlight language-python"><span class="n">search</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">metadata_type</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#recap.catalog.Catalog.search" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Search for metadata in the catallog.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>query</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Query to apply to the storage layer. This is usually a <code>WHERE</code> clause, for example: <code>"url='file:///tmp/recap-test/foo/foo.json'"</code> or <code>"json_extract(metadata_obj, '$.fields.name') = 'email'"</code></p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>metadata_type</code></td>
          <td>
                <code>type[<a class="autorefs autorefs-internal" title="recap.storage.abstract.MetadataSubtype" href="../recap.storage/#recap.storage.abstract.MetadataSubtype">MetadataSubtype</a>]</code>
          </td>
          <td><p>The type of metadata to search.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>time</code></td>
          <td>
                <code><span title="datetime.datetime">datetime</span> | None</code>
          </td>
          <td><p>Time travel to a point in time. Causes the method to return URLs from the last crawl before the provided timestamp.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>list[<a class="autorefs autorefs-internal" title="recap.storage.abstract.MetadataSubtype" href="../recap.storage/#recap.storage.abstract.MetadataSubtype">MetadataSubtype</a>]</code>
          </td>
          <td><p>A list of Pydantic <code>BaseModel</code> metadata objects that match the search query.</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="recap.catalog.Catalog.writers" class="doc doc-heading">
<code class="highlight language-python"><span class="n">writers</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">refresh</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#recap.catalog.Catalog.writers" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>List all URLs that write to the input URL.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>URL that is written to.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>time</code></td>
          <td>
                <code><span title="datetime.datetime">datetime</span> | None</code>
          </td>
          <td><p>Time travel to a point in time. Causes the method to return URLs from the last crawl before the provided timestamp.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>refresh</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Bypass the catalog's cache, fetching the data directly from the URL. Cache the results in the catalog.</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>list[str] | None</code>
          </td>
          <td><p>A list of URLs that have written to the input URL. If the return URL is an account, the account will have write-access to the input URL. If the return URL is a job, the job has written to the input URL.</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="recap.catalog.Catalog.writes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">writes</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">refresh</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#recap.catalog.Catalog.writes" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>List all URLs that the input URL writes to.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Fetch output URLs written to by this input URL.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>time</code></td>
          <td>
                <code><span title="datetime.datetime">datetime</span> | None</code>
          </td>
          <td><p>Time travel to a point in time. Causes the method to return URLs from the last crawl before the provided timestamp.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>refresh</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Bypass the catalog's cache, fetching the data directly from the URL. Cache the results in the catalog.</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>list[str] | None</code>
          </td>
          <td><p>A list of URLs that the input URL writes to. If the input URL is an account, the account will have write-access to the return URLs. If the input URL is a job, the job has written to the return URLs.</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="recap.catalog.Relationship" class="doc doc-heading">
        <code>Relationship</code>


<a href="#recap.catalog.Relationship" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><span title="enum.Enum">Enum</span></code></p>

  
      <p>A relationship between two URLs in the catalog.</p>



  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="recap.catalog.Relationship.CONTAINS" class="doc doc-heading">
<code class="highlight language-python"><span class="n">CONTAINS</span> <span class="o">=</span> <span class="mi">1</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

<a href="#recap.catalog.Relationship.CONTAINS" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>The source URL contains the destination URL. This is used to model data
hierarchy. Folders contain files, databases contain schemas, and so on.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="recap.catalog.Relationship.READS" class="doc doc-heading">
<code class="highlight language-python"><span class="n">READS</span> <span class="o">=</span> <span class="mi">3</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

<a href="#recap.catalog.Relationship.READS" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>The source URL reads the destination URL. READS is used to model both
account access and job lineage. When the source URL is an account, READS
signals that the account has read-access to the destination URL. When the
source URL is a job, READS signals that the job reads the destination URL's
data.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="recap.catalog.Relationship.RUNS" class="doc doc-heading">
<code class="highlight language-python"><span class="n">RUNS</span> <span class="o">=</span> <span class="mi">2</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

<a href="#recap.catalog.Relationship.RUNS" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>The source URL runs the destination URL. RUNS is usually used to mode job
executation: an account runs a job.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="recap.catalog.Relationship.WRITES" class="doc doc-heading">
<code class="highlight language-python"><span class="n">WRITES</span> <span class="o">=</span> <span class="mi">4</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

<a href="#recap.catalog.Relationship.WRITES" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>The source URL writes to the destination URL. WRITES is used to model both
account access and job lineage. When the source URL is an account, WRITES
signals that the account has write-access to the destination URL. When the
source URL is a job, WRITES signals that the job writes to the destination
URL's data.</p>
  </div>

</div>





  </div>

  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="recap.catalog.create_catalog" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_catalog</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">registry</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">storage_opts</span><span class="p">)</span></code>

<a href="#recap.catalog.create_catalog" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
  
      <p>A helper that creates a catalog and its underlying storage layer.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td><p>URL for the storage layer. If unset, the storage layer uses its default (A SQLite DB in <code>$RECAP_HOME/recap.db</code>).</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>registry</code></td>
          <td>
                <code><span title="recap.registry.FunctionRegistry">FunctionRegistry</span> | None</code>
          </td>
          <td><p>A function registry containting metadata and relationship functions. If unset, the global registry is used.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>storage_opts</code></td>
          <td>
          </td>
          <td><p>Extra options passed through to the storage layer.</p></td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h2 id="recap.catalog.safe" class="doc doc-heading">
<code class="highlight language-python"><span class="n">safe</span><span class="p">(</span><span class="n">url</span><span class="p">)</span></code>

<a href="#recap.catalog.safe" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
  
      <p>Strips the <code>username:password</code> from a URL.</p>
<p>Given:</p>
<div class="codehilite"><pre><span></span><code>scheme://user:pass@host:port/some/path;param?some=query#fragment
</code></pre></div>

<p>Returns:</p>
<div class="codehilite"><pre><span></span><code>scheme://host:port/some/path;param?some=query#fragment
</code></pre></div>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>URL to make safe.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td><p>A URL with the <code>username:password</code> removed.</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>



  </div>

  </div>

</div>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      2023-02-16
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["search.suggest", "search.highlight", "search.share", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.db81ec45.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.6df46069.min.js"></script>
      
    
  </body>
</html>